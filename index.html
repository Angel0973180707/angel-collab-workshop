<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="theme-color" content="#0b1220" />
  <title>Angel Collab Workshop</title>

  <!-- PWA -->
  <link rel="manifest" href="./manifest.json" />
  <link rel="apple-touch-icon" href="./assets/icons/icon-1024.png" />

  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="app">
    <header class="hero">
      <div class="hero-left">
        <img class="hero-icon" src="./assets/icons/icon-1024.png" alt="Angel Collab Workshop Icon" />
      </div>

      <div class="hero-right">
        <h1>Angel Collab Workshop</h1>
        <p class="subtitle">A calm workspace hub. Start simple, grow later.</p>

        <div class="actions">
          <button class="btn primary" id="btnAddTool" type="button">Add a Tool</button>
          <button class="btn" id="btnReset" type="button" title="Clear local data on this device">Reset (Local)</button>
        </div>

        <p class="hint">
          Tip: All tools/notes are saved in <strong>localStorage</strong> (this device only).
        </p>
      </div>
    </header>

    <main class="main">
      <section class="card">
        <div class="card-head">
          <h2>Tools</h2>
          <p class="muted">You can add unlimited tool entries here. Later we can upgrade each tool into a full page/module.</p>
        </div>

        <div id="toolList" class="tool-list" aria-live="polite"></div>

        <div class="empty" id="emptyState">
          <div class="empty-title">No tools yet</div>
          <div class="empty-text">Add your first tool. Keep it light. Keep it usable.</div>
        </div>
      </section>

      <section class="card">
        <div class="card-head">
          <h2>Workshop Notes</h2>
          <p class="muted">A place to park ideas. No pressure.</p>
        </div>

        <textarea id="workshopNotes" class="textarea" rows="8" placeholder="Write anything here..."></textarea>
        <div class="row">
          <button class="btn primary" id="btnSaveNotes" type="button">Save Notes</button>
          <span class="muted" id="notesStatus"></span>
        </div>
      </section>
    </main>

    <footer class="footer">
      <span class="muted">Angel Collab Workshop • Skeleton v1</span>
    </footer>
  </div>

  <!-- Add Tool Dialog -->
  <dialog class="dialog" id="dlgAddTool">
    <form method="dialog" class="dialog-inner">
      <div class="dialog-head">
        <h3>Add a Tool</h3>
        <button class="icon-btn" value="cancel" aria-label="Close">✕</button>
      </div>

      <label class="label">Tool Name</label>
      <input class="input" id="toolName" type="text" maxlength="40" placeholder="e.g., Calm Reset" required />

      <label class="label">One-line Purpose</label>
      <input class="input" id="toolDesc" type="text" maxlength="80" placeholder="e.g., Clear the mind, return to steady." />

      <label class="label">Optional Link</label>
      <input class="input" id="toolLink" type="text" placeholder="e.g., tools/calm-reset/index.html" />

      <div class="dialog-actions">
        <button class="btn" value="cancel" type="button" id="btnCancel">Cancel</button>
        <button class="btn primary" value="default" type="submit" id="btnCreate">Create</button>
      </div>

      <p class="muted small">
        Link can be empty for now. You can add/modify later.
      </p>
    </form>
  </dialog>

  <script src="./app.js"></script>

  <script>
    // Register Service Worker
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("./sw.js").catch(() => {});
      });
    }
  </script>
</body>
</html>